<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gdu.cashbook.mapper.MemberMapper">
	<select id="IdCk"
			parameterType="String"
			resultType="String">
		SELECT
			member_id
		FROM member
		WHERE member_id = #{memberId}
		AND member_pw = PASSWORD(#{memberPw})
	</select>
	
	<select id="selectMemberOne"
			parameterType="com.gdu.cashbook.vo.LoginMember"
			resultType="com.gdu.cashbook.vo.Member">
		SELECT
			member_id memberId, 
			member_name memberName, 
			member_addr memberAddr, 
			member_phone memberPhone, 
			member_email memberEmail
		FROM member
		WHERE member_id = #{memberId}
	</select>
	
	<select id="selectMemberId"
			parameterType="String"
			resultType="String">
		SELECT
			member_id
		FROM member
		WHERE member_id = #{memberIdCheck}
	</select>
	
	<select id="selectLoginMember" 
			parameterType="com.gdu.cashbook.vo.LoginMember" 
			resultType="com.gdu.cashbook.vo.LoginMember">
		SELECT
			member_id memberId, 
			member_pw memberPw
		FROM member
		WHERE member_id = #{memberId}
		AND member_pw = PASSWORD(#{memberPw})
	</select>
	
	<insert id="insertMember"
			parameterType="com.gdu.cashbook.vo.Member">
		INSERT INTO member (
		member_id, 
		member_pw, 
		member_name, 
		member_addr, 
		member_phone, 
		member_email
		) VALUES (
		#{memberId}, 
		PASSWORD(#{memberPw}), 
		#{memberName}, 
		#{memberAddr}, 
		#{memberPhone}, 
		#{memberEmail}
		)
	</insert>
	
	<update id="deleteMember"
			parameterType="String">
		UPDATE member
		SET member_pw = 0
		WHERE member_id = #{memberId}
	</update>
	
	<update id="updateMember"
			parameterType="com.gdu.cashbook.vo.Member">
		UPDATE member
		SET member_name = #{memberName}, 
			member_addr = #{memberAddr}, 
			member_phone = #{memberPhone}, 
			member_email = #{memberEmail}
		WHERE member_id = #{memberId}
	</update>
</mapper>